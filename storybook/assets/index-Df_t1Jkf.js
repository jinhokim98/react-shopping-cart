import{r as g,a as Yr,R as q}from"./index-l2PZgWEW.js";import{a as Jr}from"./index-BXzUGxBp.js";/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}var V;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(V||(V={}));function Gr(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:n=!1}=e,a;a=t.map((E,b)=>d(E,typeof E=="string"?null:E.state,b===0?"default":void 0));let l=c(r??a.length-1),o=V.Pop,s=null;function c(E){return Math.min(Math.max(E,0),a.length-1)}function p(){return a[l]}function d(E,b,w){b===void 0&&(b=null);let O=pt(a?p().pathname:"/",E,b,w);return De(O.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(E)),O}function h(E){return typeof E=="string"?E:ot(E)}return{get index(){return l},get action(){return o},get location(){return p()},createHref:h,createURL(E){return new URL(h(E),"http://localhost")},encodeLocation(E){let b=typeof E=="string"?fe(E):E;return{pathname:b.pathname||"",search:b.search||"",hash:b.hash||""}},push(E,b){o=V.Push;let w=d(E,b);l+=1,a.splice(l,a.length,w),n&&s&&s({action:o,location:w,delta:1})},replace(E,b){o=V.Replace;let w=d(E,b);a[l]=w,n&&s&&s({action:o,location:w,delta:0})},go(E){o=V.Pop;let b=c(l+E),w=a[b];l=b,s&&s({action:o,location:w,delta:E})},listen(E){return s=E,()=>{s=null}}}}function T(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function De(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qr(){return Math.random().toString(36).substr(2,8)}function pt(e,t,r,n){return r===void 0&&(r=null),k({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fe(t):t,{state:r,key:t&&t.key||n||qr()})}function ot(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fe(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var F;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(F||(F={}));const Xr=new Set(["lazy","caseSensitive","path","id","index","children"]);function Qr(e){return e.index===!0}function gt(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,l)=>{let o=[...r,l],s=typeof a.id=="string"?a.id:o.join("-");if(T(a.index!==!0||!a.children,"Cannot specify children on an index route"),T(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),Qr(a)){let c=k({},a,t(a),{id:s});return n[s]=c,c}else{let c=k({},a,t(a),{id:s,children:void 0});return n[s]=c,a.children&&(c.children=gt(a.children,t,o,n)),c}})}function Ae(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?fe(t):t,a=Je(n.pathname||"/",r);if(a==null)return null;let l=ir(e);en(l);let o=null;for(let s=0;o==null&&s<l.length;++s){let c=fn(a);o=dn(l[s],c)}return o}function Zr(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function ir(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,o,s)=>{let c={relativePath:s===void 0?l.path||"":s,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(T(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let p=Ee([n,c.relativePath]),d=r.concat(c);l.children&&l.children.length>0&&(T(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),ir(l.children,t,d,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:sn(p,l.index),routesMeta:d})};return e.forEach((l,o)=>{var s;if(l.path===""||!((s=l.path)!=null&&s.includes("?")))a(l,o);else for(let c of lr(l.path))a(l,o,c)}),t}function lr(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=lr(n.join("/")),s=[];return s.push(...o.map(c=>c===""?l:[l,c].join("/"))),a&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function en(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:un(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tn=/^:[\w-]+$/,rn=3,nn=2,an=1,on=10,ln=-2,Nt=e=>e==="*";function sn(e,t){let r=e.split("/"),n=r.length;return r.some(Nt)&&(n+=ln),t&&(n+=nn),r.filter(a=>!Nt(a)).reduce((a,l)=>a+(tn.test(l)?rn:l===""?an:on),n)}function un(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function dn(e,t){let{routesMeta:r}=e,n={},a="/",l=[];for(let o=0;o<r.length;++o){let s=r[o],c=o===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",d=sr({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},p);if(!d)return null;Object.assign(n,d.params);let h=s.route;l.push({params:n,pathname:Ee([a,d.pathname]),pathnameBase:pn(Ee([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Ee([a,d.pathnameBase]))}return l}function sr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cn(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((p,d,h)=>{let{paramName:v,isOptional:E}=d;if(v==="*"){let w=s[h]||"";o=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=s[h];return E&&!b?p[v]=void 0:p[v]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:o,pattern:e}}function cn(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),De(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function fn(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return De(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Je(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hn(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?fe(e):e;return{pathname:r?r.startsWith("/")?r:mn(r,t):t,search:gn(n),hash:vn(a)}}function mn(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ft(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ur(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dr(e,t){let r=ur(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cr(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=fe(e):(a=k({},e),T(!a.pathname||!a.pathname.includes("?"),ft("?","pathname","search",a)),T(!a.pathname||!a.pathname.includes("#"),ft("#","pathname","hash",a)),T(!a.search||!a.search.includes("#"),ft("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,s;if(o==null)s=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),h-=1;a.pathname=v.join("/")}s=h>=0?t[h]:"/"}let c=hn(a,s),p=o&&o!=="/"&&o.endsWith("/"),d=(l||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(p||d)&&(c.pathname+="/"),c}const Ee=e=>e.join("/").replace(/\/\/+/g,"/"),pn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gn=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vn=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class fr{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Rt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hr=["post","put","patch","delete"],yn=new Set(hr),En=["get",...hr],bn=new Set(En),wn=new Set([301,302,303,307,308]),Rn=new Set([307,308]),ht={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sn={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ve={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},St=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),mr="remix-router-transitions";function Pn(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;T(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let i=e.detectErrorBoundary;a=u=>({hasErrorBoundary:i(u)})}else a=xn;let l={},o=gt(e.routes,a,void 0,l),s,c=e.basename||"/",p=e.unstable_dataStrategy||Tn,d=k({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),h=null,v=new Set,E=null,b=null,w=null,O=e.hydrationData!=null,U=Ae(o,e.history.location,c),H=null;if(U==null){let i=ae(404,{pathname:e.history.location.pathname}),{matches:u,route:m}=Yt(o);U=u,H={[m.id]:i}}let B,le=U.some(i=>i.route.lazy),re=U.some(i=>i.route.loader);if(le)B=!1;else if(!re)B=!0;else if(d.v7_partialHydration){let i=e.hydrationData?e.hydrationData.loaderData:null,u=e.hydrationData?e.hydrationData.errors:null,m=y=>y.route.loader?typeof y.route.loader=="function"&&y.route.loader.hydrate===!0?!1:i&&i[y.route.id]!==void 0||u&&u[y.route.id]!==void 0:!0;if(u){let y=U.findIndex(R=>u[R.route.id]!==void 0);B=U.slice(0,y+1).every(m)}else B=U.every(m)}else B=e.hydrationData!=null;let he,f={historyAction:e.history.action,location:e.history.location,matches:U,initialized:B,navigation:ht,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||H,fetchers:new Map,blockers:new Map},N=V.Pop,_=!1,I,j=!1,X=new Map,W=null,Z=!1,ue=!1,qe=[],Xe=[],$=new Map,Qe=0,Fe=-1,Ce=new Map,de=new Set,Te=new Map,Ue=new Map,ce=new Set,we=new Map,Re=new Map,ut=!1;function Or(){if(h=e.history.listen(i=>{let{action:u,location:m,delta:y}=i;if(ut){ut=!1;return}De(Re.size===0||y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let R=It({currentLocation:f.location,nextLocation:m,historyAction:u});if(R&&y!=null){ut=!0,e.history.go(y*-1),et(R,{state:"blocked",location:m,proceed(){et(R,{state:"proceeding",proceed:void 0,reset:void 0,location:m}),e.history.go(y)},reset(){let L=new Map(f.blockers);L.set(R,Ve),te({blockers:L})}});return}return Se(u,m)}),r){zn(t,X);let i=()=>$n(t,X);t.addEventListener("pagehide",i),W=()=>t.removeEventListener("pagehide",i)}return f.initialized||Se(V.Pop,f.location,{initialHydration:!0}),he}function Ir(){h&&h(),W&&W(),v.clear(),I&&I.abort(),f.fetchers.forEach((i,u)=>Ze(u)),f.blockers.forEach((i,u)=>Ot(u))}function Ar(i){return v.add(i),()=>v.delete(i)}function te(i,u){u===void 0&&(u={}),f=k({},f,i);let m=[],y=[];d.v7_fetcherPersist&&f.fetchers.forEach((R,L)=>{R.state==="idle"&&(ce.has(L)?y.push(L):m.push(L))}),[...v].forEach(R=>R(f,{deletedFetchers:y,unstable_viewTransitionOpts:u.viewTransitionOpts,unstable_flushSync:u.flushSync===!0})),d.v7_fetcherPersist&&(m.forEach(R=>f.fetchers.delete(R)),y.forEach(R=>Ze(R)))}function Ne(i,u,m){var y,R;let{flushSync:L}=m===void 0?{}:m,x=f.actionData!=null&&f.navigation.formMethod!=null&&ie(f.navigation.formMethod)&&f.navigation.state==="loading"&&((y=i.state)==null?void 0:y._isRedirect)!==!0,S;u.actionData?Object.keys(u.actionData).length>0?S=u.actionData:S=null:x?S=f.actionData:S=null;let C=u.loaderData?Kt(f.loaderData,u.loaderData,u.matches||[],u.errors):f.loaderData,D=f.blockers;D.size>0&&(D=new Map(D),D.forEach((P,A)=>D.set(A,Ve)));let Y=_===!0||f.navigation.formMethod!=null&&ie(f.navigation.formMethod)&&((R=i.state)==null?void 0:R._isRedirect)!==!0;s&&(o=s,s=void 0),Z||N===V.Pop||(N===V.Push?e.history.push(i,i.state):N===V.Replace&&e.history.replace(i,i.state));let J;if(N===V.Pop){let P=X.get(f.location.pathname);P&&P.has(i.pathname)?J={currentLocation:f.location,nextLocation:i}:X.has(i.pathname)&&(J={currentLocation:i,nextLocation:f.location})}else if(j){let P=X.get(f.location.pathname);P?P.add(i.pathname):(P=new Set([i.pathname]),X.set(f.location.pathname,P)),J={currentLocation:f.location,nextLocation:i}}te(k({},u,{actionData:S,loaderData:C,historyAction:N,location:i,initialized:!0,navigation:ht,revalidation:"idle",restoreScrollPosition:Ft(i,u.matches||f.matches),preventScrollReset:Y,blockers:D}),{viewTransitionOpts:J,flushSync:L===!0}),N=V.Pop,_=!1,j=!1,Z=!1,ue=!1,qe=[],Xe=[]}async function Dt(i,u){if(typeof i=="number"){e.history.go(i);return}let m=vt(f.location,f.matches,c,d.v7_prependBasename,i,d.v7_relativeSplatPath,u==null?void 0:u.fromRouteId,u==null?void 0:u.relative),{path:y,submission:R,error:L}=jt(d.v7_normalizeFormMethod,!1,m,u),x=f.location,S=pt(f.location,y,u&&u.state);S=k({},S,e.history.encodeLocation(S));let C=u&&u.replace!=null?u.replace:void 0,D=V.Push;C===!0?D=V.Replace:C===!1||R!=null&&ie(R.formMethod)&&R.formAction===f.location.pathname+f.location.search&&(D=V.Replace);let Y=u&&"preventScrollReset"in u?u.preventScrollReset===!0:void 0,J=(u&&u.unstable_flushSync)===!0,P=It({currentLocation:x,nextLocation:S,historyAction:D});if(P){et(P,{state:"blocked",location:S,proceed(){et(P,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),Dt(i,u)},reset(){let A=new Map(f.blockers);A.set(P,Ve),te({blockers:A})}});return}return await Se(D,S,{submission:R,pendingError:L,preventScrollReset:Y,replace:u&&u.replace,enableViewTransition:u&&u.unstable_viewTransition,flushSync:J})}function Fr(){if(dt(),te({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){Se(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}Se(N||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function Se(i,u,m){I&&I.abort(),I=null,N=i,Z=(m&&m.startUninterruptedRevalidation)===!0,Hr(f.location,f.matches),_=(m&&m.preventScrollReset)===!0,j=(m&&m.enableViewTransition)===!0;let y=s||o,R=m&&m.overrideNavigation,L=Ae(y,u,c),x=(m&&m.flushSync)===!0;if(!L){let P=ae(404,{pathname:u.pathname}),{matches:A,route:K}=Yt(y);ct(),Ne(u,{matches:A,loaderData:{},errors:{[K.id]:P}},{flushSync:x});return}if(f.initialized&&!ue&&Fn(f.location,u)&&!(m&&m.submission&&ie(m.submission.formMethod))){Ne(u,{matches:L},{flushSync:x});return}I=new AbortController;let S=Ie(e.history,u,I.signal,m&&m.submission),C;if(m&&m.pendingError)C=[We(L).route.id,{type:F.error,error:m.pendingError}];else if(m&&m.submission&&ie(m.submission.formMethod)){let P=await Ur(S,u,m.submission,L,{replace:m.replace,flushSync:x});if(P.shortCircuited)return;C=P.pendingActionResult,R=mt(u,m.submission),x=!1,S=Ie(e.history,S.url,S.signal)}let{shortCircuited:D,loaderData:Y,errors:J}=await Nr(S,u,L,R,m&&m.submission,m&&m.fetcherSubmission,m&&m.replace,m&&m.initialHydration===!0,x,C);D||(I=null,Ne(u,k({matches:L},Wt(C),{loaderData:Y,errors:J})))}async function Ur(i,u,m,y,R){R===void 0&&(R={}),dt();let L=kn(u,m);te({navigation:L},{flushSync:R.flushSync===!0});let x,S=Et(y,u);if(!S.route.action&&!S.route.lazy)x={type:F.error,error:ae(405,{method:i.method,pathname:u.pathname,routeId:S.route.id})};else if(x=(await ke("action",i,[S],y))[0],i.signal.aborted)return{shortCircuited:!0};if(Pe(x)){let C;return R&&R.replace!=null?C=R.replace:C=$t(x.response.headers.get("Location"),new URL(i.url),c)===f.location.pathname+f.location.search,await je(i,x,{submission:m,replace:C}),{shortCircuited:!0}}if(xe(x))throw ae(400,{type:"defer-action"});if(oe(x)){let C=We(y,S.route.id);return(R&&R.replace)!==!0&&(N=V.Push),{pendingActionResult:[C.route.id,x]}}return{pendingActionResult:[S.route.id,x]}}async function Nr(i,u,m,y,R,L,x,S,C,D){let Y=y||mt(u,R),J=R||L||qt(Y),P=s||o,[A,K]=kt(e.history,f,m,J,u,d.v7_partialHydration&&S===!0,d.unstable_skipActionErrorRevalidation,ue,qe,Xe,ce,Te,de,P,c,D);if(ct(M=>!(m&&m.some(Q=>Q.route.id===M))||A&&A.some(Q=>Q.route.id===M)),Fe=++Qe,A.length===0&&K.length===0){let M=Mt();return Ne(u,k({matches:m,loaderData:{},errors:D&&oe(D[1])?{[D[0]]:D[1].error}:null},Wt(D),M?{fetchers:new Map(f.fetchers)}:{}),{flushSync:C}),{shortCircuited:!0}}if(!Z&&(!d.v7_partialHydration||!S)){K.forEach(Q=>{let ne=f.fetchers.get(Q.key),G=He(void 0,ne?ne.data:void 0);f.fetchers.set(Q.key,G)});let M;D&&!oe(D[1])?M={[D[0]]:D[1].data}:f.actionData&&(Object.keys(f.actionData).length===0?M=null:M=f.actionData),te(k({navigation:Y},M!==void 0?{actionData:M}:{},K.length>0?{fetchers:new Map(f.fetchers)}:{}),{flushSync:C})}K.forEach(M=>{$.has(M.key)&&pe(M.key),M.controller&&$.set(M.key,M.controller)});let ze=()=>K.forEach(M=>pe(M.key));I&&I.signal.addEventListener("abort",ze);let{loaderResults:ge,fetcherResults:Me}=await Lt(f.matches,m,A,K,i);if(i.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",ze),K.forEach(M=>$.delete(M.key));let _e=Jt([...ge,...Me]);if(_e){if(_e.idx>=A.length){let M=K[_e.idx-A.length].key;de.add(M)}return await je(i,_e.result,{replace:x}),{shortCircuited:!0}}let{loaderData:Oe,errors:se}=Ht(f,m,A,ge,D,K,Me,we);we.forEach((M,Q)=>{M.subscribe(ne=>{(ne||M.done)&&we.delete(Q)})}),d.v7_partialHydration&&S&&f.errors&&Object.entries(f.errors).filter(M=>{let[Q]=M;return!A.some(ne=>ne.route.id===Q)}).forEach(M=>{let[Q,ne]=M;se=Object.assign(se||{},{[Q]:ne})});let tt=Mt(),rt=_t(Fe),nt=tt||rt||K.length>0;return k({loaderData:Oe,errors:se},nt?{fetchers:new Map(f.fetchers)}:{})}function jr(i,u,m,y){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(i)&&pe(i);let R=(y&&y.unstable_flushSync)===!0,L=s||o,x=vt(f.location,f.matches,c,d.v7_prependBasename,m,d.v7_relativeSplatPath,u,y==null?void 0:y.relative),S=Ae(L,x,c);if(!S){Be(i,u,ae(404,{pathname:x}),{flushSync:R});return}let{path:C,submission:D,error:Y}=jt(d.v7_normalizeFormMethod,!0,x,y);if(Y){Be(i,u,Y,{flushSync:R});return}let J=Et(S,C);if(_=(y&&y.preventScrollReset)===!0,D&&ie(D.formMethod)){kr(i,u,C,J,S,R,D);return}Te.set(i,{routeId:u,path:C}),Br(i,u,C,J,S,R,D)}async function kr(i,u,m,y,R,L,x){if(dt(),Te.delete(i),!y.route.action&&!y.route.lazy){let G=ae(405,{method:x.formMethod,pathname:m,routeId:u});Be(i,u,G,{flushSync:L});return}let S=f.fetchers.get(i);me(i,Bn(x,S),{flushSync:L});let C=new AbortController,D=Ie(e.history,m,C.signal,x);$.set(i,C);let Y=Qe,P=(await ke("action",D,[y],R))[0];if(D.signal.aborted){$.get(i)===C&&$.delete(i);return}if(d.v7_fetcherPersist&&ce.has(i)){if(Pe(P)||oe(P)){me(i,ye(void 0));return}}else{if(Pe(P))if($.delete(i),Fe>Y){me(i,ye(void 0));return}else return de.add(i),me(i,He(x)),je(D,P,{fetcherSubmission:x});if(oe(P)){Be(i,u,P.error);return}}if(xe(P))throw ae(400,{type:"defer-action"});let A=f.navigation.location||f.location,K=Ie(e.history,A,C.signal),ze=s||o,ge=f.navigation.state!=="idle"?Ae(ze,f.navigation.location,c):f.matches;T(ge,"Didn't find any matches after fetcher action");let Me=++Qe;Ce.set(i,Me);let _e=He(x,P.data);f.fetchers.set(i,_e);let[Oe,se]=kt(e.history,f,ge,x,A,!1,d.unstable_skipActionErrorRevalidation,ue,qe,Xe,ce,Te,de,ze,c,[y.route.id,P]);se.filter(G=>G.key!==i).forEach(G=>{let $e=G.key,Ut=f.fetchers.get($e),Wr=He(void 0,Ut?Ut.data:void 0);f.fetchers.set($e,Wr),$.has($e)&&pe($e),G.controller&&$.set($e,G.controller)}),te({fetchers:new Map(f.fetchers)});let tt=()=>se.forEach(G=>pe(G.key));C.signal.addEventListener("abort",tt);let{loaderResults:rt,fetcherResults:nt}=await Lt(f.matches,ge,Oe,se,K);if(C.signal.aborted)return;C.signal.removeEventListener("abort",tt),Ce.delete(i),$.delete(i),se.forEach(G=>$.delete(G.key));let M=Jt([...rt,...nt]);if(M){if(M.idx>=Oe.length){let G=se[M.idx-Oe.length].key;de.add(G)}return je(K,M.result)}let{loaderData:Q,errors:ne}=Ht(f,f.matches,Oe,rt,void 0,se,nt,we);if(f.fetchers.has(i)){let G=ye(P.data);f.fetchers.set(i,G)}_t(Me),f.navigation.state==="loading"&&Me>Fe?(T(N,"Expected pending action"),I&&I.abort(),Ne(f.navigation.location,{matches:ge,loaderData:Q,errors:ne,fetchers:new Map(f.fetchers)})):(te({errors:ne,loaderData:Kt(f.loaderData,Q,ge,ne),fetchers:new Map(f.fetchers)}),ue=!1)}async function Br(i,u,m,y,R,L,x){let S=f.fetchers.get(i);me(i,He(x,S?S.data:void 0),{flushSync:L});let C=new AbortController,D=Ie(e.history,m,C.signal);$.set(i,C);let Y=Qe,P=(await ke("loader",D,[y],R))[0];if(xe(P)&&(P=await yr(P,D.signal,!0)||P),$.get(i)===C&&$.delete(i),!D.signal.aborted){if(ce.has(i)){me(i,ye(void 0));return}if(Pe(P))if(Fe>Y){me(i,ye(void 0));return}else{de.add(i),await je(D,P);return}if(oe(P)){Be(i,u,P.error);return}T(!xe(P),"Unhandled fetcher deferred data"),me(i,ye(P.data))}}async function je(i,u,m){let{submission:y,fetcherSubmission:R,replace:L}=m===void 0?{}:m;u.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let x=u.response.headers.get("Location");T(x,"Expected a Location header on the redirect Response"),x=$t(x,new URL(i.url),c);let S=pt(f.location,x,{_isRedirect:!0});if(r){let A=!1;if(u.response.headers.has("X-Remix-Reload-Document"))A=!0;else if(St.test(x)){const K=e.history.createURL(x);A=K.origin!==t.location.origin||Je(K.pathname,c)==null}if(A){L?t.location.replace(x):t.location.assign(x);return}}I=null;let C=L===!0?V.Replace:V.Push,{formMethod:D,formAction:Y,formEncType:J}=f.navigation;!y&&!R&&D&&Y&&J&&(y=qt(f.navigation));let P=y||R;if(Rn.has(u.response.status)&&P&&ie(P.formMethod))await Se(C,S,{submission:k({},P,{formAction:x}),preventScrollReset:_});else{let A=mt(S,y);await Se(C,S,{overrideNavigation:A,fetcherSubmission:R,preventScrollReset:_})}}async function ke(i,u,m,y){try{let R=await Mn(p,i,u,m,y,l,a);return await Promise.all(R.map((L,x)=>{if(Un(L)){let S=L.result;return{type:F.redirect,response:In(S,u,m[x].route.id,y,c,d.v7_relativeSplatPath)}}return On(L)}))}catch(R){return m.map(()=>({type:F.error,error:R}))}}async function Lt(i,u,m,y,R){let[L,...x]=await Promise.all([m.length?ke("loader",R,m,u):[],...y.map(S=>{if(S.matches&&S.match&&S.controller){let C=Ie(e.history,S.path,S.controller.signal);return ke("loader",C,[S.match],S.matches).then(D=>D[0])}else return Promise.resolve({type:F.error,error:ae(404,{pathname:S.path})})})]);return await Promise.all([Gt(i,m,L,L.map(()=>R.signal),!1,f.loaderData),Gt(i,y.map(S=>S.match),x,y.map(S=>S.controller?S.controller.signal:null),!0)]),{loaderResults:L,fetcherResults:x}}function dt(){ue=!0,qe.push(...ct()),Te.forEach((i,u)=>{$.has(u)&&(Xe.push(u),pe(u))})}function me(i,u,m){m===void 0&&(m={}),f.fetchers.set(i,u),te({fetchers:new Map(f.fetchers)},{flushSync:(m&&m.flushSync)===!0})}function Be(i,u,m,y){y===void 0&&(y={});let R=We(f.matches,u);Ze(i),te({errors:{[R.route.id]:m},fetchers:new Map(f.fetchers)},{flushSync:(y&&y.flushSync)===!0})}function Ct(i){return d.v7_fetcherPersist&&(Ue.set(i,(Ue.get(i)||0)+1),ce.has(i)&&ce.delete(i)),f.fetchers.get(i)||Sn}function Ze(i){let u=f.fetchers.get(i);$.has(i)&&!(u&&u.state==="loading"&&Ce.has(i))&&pe(i),Te.delete(i),Ce.delete(i),de.delete(i),ce.delete(i),f.fetchers.delete(i)}function zr(i){if(d.v7_fetcherPersist){let u=(Ue.get(i)||0)-1;u<=0?(Ue.delete(i),ce.add(i)):Ue.set(i,u)}else Ze(i);te({fetchers:new Map(f.fetchers)})}function pe(i){let u=$.get(i);T(u,"Expected fetch controller: "+i),u.abort(),$.delete(i)}function Tt(i){for(let u of i){let m=Ct(u),y=ye(m.data);f.fetchers.set(u,y)}}function Mt(){let i=[],u=!1;for(let m of de){let y=f.fetchers.get(m);T(y,"Expected fetcher: "+m),y.state==="loading"&&(de.delete(m),i.push(m),u=!0)}return Tt(i),u}function _t(i){let u=[];for(let[m,y]of Ce)if(y<i){let R=f.fetchers.get(m);T(R,"Expected fetcher: "+m),R.state==="loading"&&(pe(m),Ce.delete(m),u.push(m))}return Tt(u),u.length>0}function $r(i,u){let m=f.blockers.get(i)||Ve;return Re.get(i)!==u&&Re.set(i,u),m}function Ot(i){f.blockers.delete(i),Re.delete(i)}function et(i,u){let m=f.blockers.get(i)||Ve;T(m.state==="unblocked"&&u.state==="blocked"||m.state==="blocked"&&u.state==="blocked"||m.state==="blocked"&&u.state==="proceeding"||m.state==="blocked"&&u.state==="unblocked"||m.state==="proceeding"&&u.state==="unblocked","Invalid blocker state transition: "+m.state+" -> "+u.state);let y=new Map(f.blockers);y.set(i,u),te({blockers:y})}function It(i){let{currentLocation:u,nextLocation:m,historyAction:y}=i;if(Re.size===0)return;Re.size>1&&De(!1,"A router only supports one blocker at a time");let R=Array.from(Re.entries()),[L,x]=R[R.length-1],S=f.blockers.get(L);if(!(S&&S.state==="proceeding")&&x({currentLocation:u,nextLocation:m,historyAction:y}))return L}function ct(i){let u=[];return we.forEach((m,y)=>{(!i||i(y))&&(m.cancel(),u.push(y),we.delete(y))}),u}function Vr(i,u,m){if(E=i,w=u,b=m||null,!O&&f.navigation===ht){O=!0;let y=Ft(f.location,f.matches);y!=null&&te({restoreScrollPosition:y})}return()=>{E=null,w=null,b=null}}function At(i,u){return b&&b(i,u.map(y=>Zr(y,f.loaderData)))||i.key}function Hr(i,u){if(E&&w){let m=At(i,u);E[m]=w()}}function Ft(i,u){if(E){let m=At(i,u),y=E[m];if(typeof y=="number")return y}return null}function Kr(i){l={},s=gt(i,a,void 0,l)}return he={get basename(){return c},get future(){return d},get state(){return f},get routes(){return o},get window(){return t},initialize:Or,subscribe:Ar,enableScrollRestoration:Vr,navigate:Dt,fetch:jr,revalidate:Fr,createHref:i=>e.history.createHref(i),encodeLocation:i=>e.history.encodeLocation(i),getFetcher:Ct,deleteFetcher:zr,dispose:Ir,getBlocker:$r,deleteBlocker:Ot,_internalFetchControllers:$,_internalActiveDeferreds:we,_internalSetRoutes:Kr},he}function Dn(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function vt(e,t,r,n,a,l,o,s){let c,p;if(o){c=[];for(let h of t)if(c.push(h),h.route.id===o){p=h;break}}else c=t,p=t[t.length-1];let d=cr(a||".",dr(c,l),Je(e.pathname,r)||e.pathname,s==="path");return a==null&&(d.search=e.search,d.hash=e.hash),(a==null||a===""||a===".")&&p&&p.route.index&&!xt(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:Ee([r,d.pathname])),ot(d)}function jt(e,t,r,n){if(!n||!Dn(n))return{path:r};if(n.formMethod&&!jn(n.formMethod))return{path:r,error:ae(405,{method:n.formMethod})};let a=()=>({path:r,error:ae(400,{type:"invalid-body"})}),l=n.formMethod||"get",o=e?l.toUpperCase():l.toLowerCase(),s=gr(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ie(o))return a();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,b)=>{let[w,O]=b;return""+E+w+"="+O+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!ie(o))return a();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return a()}}}T(typeof FormData=="function","FormData is not available in this environment");let c,p;if(n.formData)c=yt(n.formData),p=n.formData;else if(n.body instanceof FormData)c=yt(n.body),p=n.body;else if(n.body instanceof URLSearchParams)c=n.body,p=Vt(c);else if(n.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(n.body),p=Vt(c)}catch{return a()}let d={formMethod:o,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ie(d.formMethod))return{path:r,submission:d};let h=fe(r);return t&&h.search&&xt(h.search)&&c.append("index",""),h.search="?"+c,{path:ot(h),submission:d}}function Ln(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function kt(e,t,r,n,a,l,o,s,c,p,d,h,v,E,b,w){let O=w?oe(w[1])?w[1].error:w[1].data:void 0,U=e.createURL(t.location),H=e.createURL(a),B=w&&oe(w[1])?w[0]:void 0,le=B?Ln(r,B):r,re=w?w[1].statusCode:void 0,he=o&&re&&re>=400,f=le.filter((_,I)=>{let{route:j}=_;if(j.lazy)return!0;if(j.loader==null)return!1;if(l)return typeof j.loader!="function"||j.loader.hydrate?!0:t.loaderData[j.id]===void 0&&(!t.errors||t.errors[j.id]===void 0);if(Cn(t.loaderData,t.matches[I],_)||c.some(Z=>Z===_.route.id))return!0;let X=t.matches[I],W=_;return Bt(_,k({currentUrl:U,currentParams:X.params,nextUrl:H,nextParams:W.params},n,{actionResult:O,unstable_actionStatus:re,defaultShouldRevalidate:he?!1:s||U.pathname+U.search===H.pathname+H.search||U.search!==H.search||pr(X,W)}))}),N=[];return h.forEach((_,I)=>{if(l||!r.some(ue=>ue.route.id===_.routeId)||d.has(I))return;let j=Ae(E,_.path,b);if(!j){N.push({key:I,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let X=t.fetchers.get(I),W=Et(j,_.path),Z=!1;v.has(I)?Z=!1:p.includes(I)?Z=!0:X&&X.state!=="idle"&&X.data===void 0?Z=s:Z=Bt(W,k({currentUrl:U,currentParams:t.matches[t.matches.length-1].params,nextUrl:H,nextParams:r[r.length-1].params},n,{actionResult:O,unstable_actionStatus:re,defaultShouldRevalidate:he?!1:s})),Z&&N.push({key:I,routeId:_.routeId,path:_.path,matches:j,match:W,controller:new AbortController})}),[f,N]}function Cn(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function pr(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Bt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function zt(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];T(a,"No route found in manifest");let l={};for(let o in n){let c=a[o]!==void 0&&o!=="hasErrorBoundary";De(!c,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Xr.has(o)&&(l[o]=n[o])}Object.assign(a,l),Object.assign(a,k({},t(a),{lazy:void 0}))}function Tn(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Mn(e,t,r,n,a,l,o,s){let c=n.reduce((h,v)=>h.add(v.route.id),new Set),p=new Set,d=await e({matches:a.map(h=>{let v=c.has(h.route.id);return k({},h,{shouldLoad:v,resolve:b=>(p.add(h.route.id),v?_n(t,r,h,l,o,b,s):Promise.resolve({type:F.data,result:void 0}))})}),request:r,params:a[0].params,context:s});return a.forEach(h=>T(p.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,v)=>c.has(a[v].route.id))}async function _n(e,t,r,n,a,l,o){let s,c,p=d=>{let h,v=new Promise((w,O)=>h=O);c=()=>h(),t.signal.addEventListener("abort",c);let E=w=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):d({request:t,params:r.params,context:o},...w!==void 0?[w]:[]),b;return l?b=l(w=>E(w)):b=(async()=>{try{return{type:"data",result:await E()}}catch(w){return{type:"error",result:w}}})(),Promise.race([b,v])};try{let d=r.route[e];if(r.route.lazy)if(d){let h,[v]=await Promise.all([p(d).catch(E=>{h=E}),zt(r.route,a,n)]);if(h!==void 0)throw h;s=v}else if(await zt(r.route,a,n),d=r.route[e],d)s=await p(d);else if(e==="action"){let h=new URL(t.url),v=h.pathname+h.search;throw ae(405,{method:t.method,pathname:v,routeId:r.route.id})}else return{type:F.data,result:void 0};else if(d)s=await p(d);else{let h=new URL(t.url),v=h.pathname+h.search;throw ae(404,{pathname:v})}T(s.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:F.error,result:d}}finally{c&&t.signal.removeEventListener("abort",c)}return s}async function On(e){let{result:t,type:r,status:n}=e;if(vr(t)){let o;try{let s=t.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?t.body==null?o=null:o=await t.json():o=await t.text()}catch(s){return{type:F.error,error:s}}return r===F.error?{type:F.error,error:new fr(t.status,t.statusText,o),statusCode:t.status,headers:t.headers}:{type:F.data,data:o,statusCode:t.status,headers:t.headers}}if(r===F.error)return{type:F.error,error:t,statusCode:Rt(t)?t.status:n};if(Nn(t)){var a,l;return{type:F.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}return{type:F.data,data:t,statusCode:n}}function In(e,t,r,n,a,l){let o=e.headers.get("Location");if(T(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!St.test(o)){let s=n.slice(0,n.findIndex(c=>c.route.id===r)+1);o=vt(new URL(t.url),s,a,!0,o,l),e.headers.set("Location",o)}return e}function $t(e,t,r){if(St.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),l=Je(a.pathname,r)!=null;if(a.origin===t.origin&&l)return a.pathname+a.search+a.hash}return e}function Ie(e,t,r,n){let a=e.createURL(gr(t)).toString(),l={signal:r};if(n&&ie(n.formMethod)){let{formMethod:o,formEncType:s}=n;l.method=o.toUpperCase(),s==="application/json"?(l.headers=new Headers({"Content-Type":s}),l.body=JSON.stringify(n.json)):s==="text/plain"?l.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?l.body=yt(n.formData):l.body=n.formData}return new Request(a,l)}function yt(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Vt(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function An(e,t,r,n,a,l){let o={},s=null,c,p=!1,d={},h=n&&oe(n[1])?n[1].error:void 0;return r.forEach((v,E)=>{let b=t[E].route.id;if(T(!Pe(v),"Cannot handle redirect results in processLoaderData"),oe(v)){let w=v.error;h!==void 0&&(w=h,h=void 0),s=s||{};{let O=We(e,b);s[O.route.id]==null&&(s[O.route.id]=w)}o[b]=void 0,p||(p=!0,c=Rt(v.error)?v.error.status:500),v.headers&&(d[b]=v.headers)}else xe(v)?(a.set(b,v.deferredData),o[b]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!p&&(c=v.statusCode),v.headers&&(d[b]=v.headers)):(o[b]=v.data,v.statusCode&&v.statusCode!==200&&!p&&(c=v.statusCode),v.headers&&(d[b]=v.headers))}),h!==void 0&&n&&(s={[n[0]]:h},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:c||200,loaderHeaders:d}}function Ht(e,t,r,n,a,l,o,s){let{loaderData:c,errors:p}=An(t,r,n,a,s);for(let d=0;d<l.length;d++){let{key:h,match:v,controller:E}=l[d];T(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let b=o[d];if(!(E&&E.signal.aborted))if(oe(b)){let w=We(e.matches,v==null?void 0:v.route.id);p&&p[w.route.id]||(p=k({},p,{[w.route.id]:b.error})),e.fetchers.delete(h)}else if(Pe(b))T(!1,"Unhandled fetcher revalidation redirect");else if(xe(b))T(!1,"Unhandled fetcher deferred data");else{let w=ye(b.data);e.fetchers.set(h,w)}}return{loaderData:c,errors:p}}function Kt(e,t,r,n){let a=k({},t);for(let l of r){let o=l.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&l.route.loader&&(a[o]=e[o]),n&&n.hasOwnProperty(o))break}return a}function Wt(e){return e?oe(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function We(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Yt(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ae(e,t){let{pathname:r,routeId:n,method:a,type:l}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",a&&r&&n?s="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":l==="defer-action"?s="defer() is not supported in actions":l==="invalid-body"&&(s="Unable to encode submission body")):e===403?(o="Forbidden",s='Route "'+n+'" does not match URL "'+r+'"'):e===404?(o="Not Found",s='No route matches URL "'+r+'"'):e===405&&(o="Method Not Allowed",a&&r&&n?s="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new fr(e||500,o,new Error(s),!0)}function Jt(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Pe(r))return{result:r,idx:t}}}function gr(e){let t=typeof e=="string"?fe(e):e;return ot(k({},t,{hash:""}))}function Fn(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Un(e){return vr(e.result)&&wn.has(e.result.status)}function xe(e){return e.type===F.deferred}function oe(e){return e.type===F.error}function Pe(e){return(e&&e.type)===F.redirect}function Nn(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function vr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function jn(e){return bn.has(e.toLowerCase())}function ie(e){return yn.has(e.toLowerCase())}async function Gt(e,t,r,n,a,l){for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(!c)continue;let p=e.find(h=>h.route.id===c.route.id),d=p!=null&&!pr(p,c)&&(l&&l[c.route.id])!==void 0;if(xe(s)&&(a||d)){let h=n[o];T(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await yr(s,h,a).then(v=>{v&&(r[o]=v||r[o])})}}}async function yr(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:F.data,data:e.deferredData.unwrappedData}}catch(a){return{type:F.error,error:a}}return{type:F.data,data:e.deferredData.data}}}function xt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Et(e,t){let r=typeof t=="string"?fe(t).search:t.search;if(e[e.length-1].route.index&&xt(r||""))return e[e.length-1];let n=ur(e);return n[n.length-1]}function qt(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:l,json:o}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:r,formEncType:n,formData:l,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function mt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kn(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function He(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Bn(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ye(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zn(e,t){try{let r=e.sessionStorage.getItem(mr);if(r){let n=JSON.parse(r);for(let[a,l]of Object.entries(n||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function $n(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(mr,JSON.stringify(r))}catch(n){De(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ye.apply(this,arguments)}const it=g.createContext(null),Er=g.createContext(null),lt=g.createContext(null),st=g.createContext(null),be=g.createContext({outlet:null,matches:[],isDataRoute:!1}),br=g.createContext(null);function Ge(){return g.useContext(st)!=null}function Le(){return Ge()||T(!1),g.useContext(st).location}function Vn(){return g.useContext(st).navigationType}function $a(e){Ge()||T(!1);let{pathname:t}=Le();return g.useMemo(()=>sr(e,t),[t,e])}function wr(e){g.useContext(lt).static||g.useLayoutEffect(e)}function Hn(){let{isDataRoute:e}=g.useContext(be);return e?na():Kn()}function Kn(){Ge()||T(!1);let e=g.useContext(it),{basename:t,future:r,navigator:n}=g.useContext(lt),{matches:a}=g.useContext(be),{pathname:l}=Le(),o=JSON.stringify(dr(a,r.v7_relativeSplatPath)),s=g.useRef(!1);return wr(()=>{s.current=!0}),g.useCallback(function(p,d){if(d===void 0&&(d={}),!s.current)return;if(typeof p=="number"){n.go(p);return}let h=cr(p,JSON.parse(o),l,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ee([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,l,e])}function Wn(){let{matches:e}=g.useContext(be),t=e[e.length-1];return t?t.params:{}}function Yn(e,t,r,n){Ge()||T(!1);let{navigator:a}=g.useContext(lt),{matches:l}=g.useContext(be),o=l[l.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let p=Le(),d;d=p;let h=d.pathname||"/",v=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=Ae(e,{pathname:v});return Qn(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Ee([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ee([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,r,n)}function Jn(){let e=ra(),t=Rt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,null)}const Gn=g.createElement(Jn,null);class qn extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(be.Provider,{value:this.props.routeContext},g.createElement(br.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xn(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(it);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(be.Provider,{value:t},n)}function Qn(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if((l=r)!=null&&l.errors)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);d>=0||T(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(p=d),h.route.id){let{loaderData:v,errors:E}=r,b=h.route.loader&&v[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||b){c=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((d,h,v)=>{let E,b=!1,w=null,O=null;r&&(E=s&&h.route.id?s[h.route.id]:void 0,w=h.route.errorElement||Gn,c&&(p<0&&v===0?(b=!0,O=null):p===v&&(b=!0,O=h.route.hydrateFallbackElement||null)));let U=t.concat(o.slice(0,v+1)),H=()=>{let B;return E?B=w:b?B=O:h.route.Component?B=g.createElement(h.route.Component,null):h.route.element?B=h.route.element:B=d,g.createElement(Xn,{match:h,routeContext:{outlet:d,matches:U,isDataRoute:r!=null},children:B})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?g.createElement(qn,{location:r.location,revalidation:r.revalidation,component:w,error:E,children:H(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):H()},null)}var Rr=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rr||{}),at=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(at||{});function Zn(e){let t=g.useContext(it);return t||T(!1),t}function ea(e){let t=g.useContext(Er);return t||T(!1),t}function ta(e){let t=g.useContext(be);return t||T(!1),t}function Sr(e){let t=ta(),r=t.matches[t.matches.length-1];return r.route.id||T(!1),r.route.id}function ra(){var e;let t=g.useContext(br),r=ea(at.UseRouteError),n=Sr(at.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function na(){let{router:e}=Zn(Rr.UseNavigateStable),t=Sr(at.UseNavigateStable),r=g.useRef(!1);return wr(()=>{r.current=!0}),g.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ye({fromRouteId:t},l)))},[e,t])}function aa(e){let{basename:t="/",children:r=null,location:n,navigationType:a=V.Pop,navigator:l,static:o=!1,future:s}=e;Ge()&&T(!1);let c=t.replace(/^\/*/,"/"),p=g.useMemo(()=>({basename:c,navigator:l,static:o,future:Ye({v7_relativeSplatPath:!1},s)}),[c,s,l,o]);typeof n=="string"&&(n=fe(n));let{pathname:d="/",search:h="",hash:v="",state:E=null,key:b="default"}=n,w=g.useMemo(()=>{let O=Je(d,c);return O==null?null:{location:{pathname:O,search:h,hash:v,state:E,key:b},navigationType:a}},[c,d,h,v,E,b,a]);return w==null?null:g.createElement(lt.Provider,{value:p},g.createElement(st.Provider,{children:r,value:w}))}new Promise(()=>{});function oa(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:g.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:g.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:g.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function ia(e,t){return Pn({basename:t==null?void 0:t.basename,future:Ye({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Gr({initialEntries:t==null?void 0:t.initialEntries,initialIndex:t==null?void 0:t.initialIndex}),hydrationData:t==null?void 0:t.hydrationData,routes:e,mapRouteProperties:oa,unstable_dataStrategy:t==null?void 0:t.unstable_dataStrategy}).initialize()}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bt(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function la(e,t){let r=bt(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}const sa="6";try{window.__reactRouterVersion=sa}catch{}const ua=g.createContext({isTransitioning:!1}),da=g.createContext(new Map),ca="startTransition",Xt=Yr[ca],fa="flushSync",Qt=Jr[fa];function ha(e){Xt?Xt(e):e()}function Ke(e){Qt?Qt(e):e()}class ma{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function pa(e){let{fallbackElement:t,router:r,future:n}=e,[a,l]=g.useState(r.state),[o,s]=g.useState(),[c,p]=g.useState({isTransitioning:!1}),[d,h]=g.useState(),[v,E]=g.useState(),[b,w]=g.useState(),O=g.useRef(new Map),{v7_startTransition:U}=n||{},H=g.useCallback(f=>{U?ha(f):f()},[U]),B=g.useCallback((f,N)=>{let{deletedFetchers:_,unstable_flushSync:I,unstable_viewTransitionOpts:j}=N;_.forEach(W=>O.current.delete(W)),f.fetchers.forEach((W,Z)=>{W.data!==void 0&&O.current.set(Z,W.data)});let X=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!j||X){I?Ke(()=>l(f)):H(()=>l(f));return}if(I){Ke(()=>{v&&(d&&d.resolve(),v.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let W=r.window.document.startViewTransition(()=>{Ke(()=>l(f))});W.finished.finally(()=>{Ke(()=>{h(void 0),E(void 0),s(void 0),p({isTransitioning:!1})})}),Ke(()=>E(W));return}v?(d&&d.resolve(),v.skipTransition(),w({state:f,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(s(f),p({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[r.window,v,d,O,H]);g.useLayoutEffect(()=>r.subscribe(B),[r,B]),g.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new ma)},[c]),g.useEffect(()=>{if(d&&o&&r.window){let f=o,N=d.promise,_=r.window.document.startViewTransition(async()=>{H(()=>l(f)),await N});_.finished.finally(()=>{h(void 0),E(void 0),s(void 0),p({isTransitioning:!1})}),E(_)}},[H,o,d,r.window]),g.useEffect(()=>{d&&o&&a.location.key===o.location.key&&d.resolve()},[d,v,a.location,o]),g.useEffect(()=>{!c.isTransitioning&&b&&(s(b.state),p({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),w(void 0))},[c.isTransitioning,b]),g.useEffect(()=>{},[]);let le=g.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:f=>r.navigate(f),push:(f,N,_)=>r.navigate(f,{state:N,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(f,N,_)=>r.navigate(f,{replace:!0,state:N,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[r]),re=r.basename||"/",he=g.useMemo(()=>({router:r,navigator:le,static:!1,basename:re}),[r,le,re]);return g.createElement(g.Fragment,null,g.createElement(it.Provider,{value:he},g.createElement(Er.Provider,{value:a},g.createElement(da.Provider,{value:O.current},g.createElement(ua.Provider,{value:c},g.createElement(aa,{basename:re,location:a.location,navigationType:a.historyAction,navigator:le,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},a.initialized||r.future.v7_partialHydration?g.createElement(ga,{routes:r.routes,future:r.future,state:a}):t))))),null)}function ga(e){let{routes:t,future:r,state:n}=e;return Yn(t,void 0,n,r)}var Zt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zt||(Zt={}));var er;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(er||(er={}));function va(e){let t=g.useRef(bt(e)),r=g.useRef(!1),n=Le(),a=g.useMemo(()=>la(n.search,r.current?null:t.current),[n.search]),l=Hn(),o=g.useCallback((s,c)=>{const p=bt(typeof s=="function"?s(a):s);r.current=!0,l("?"+p,c)},[l,a]);return[a,o]}const{makeDecorator:ya,addons:Pt}=__STORYBOOK_MODULE_PREVIEW_API__;var ve="storybook/react-router-v6",Ea="reactRouter",z={CLEAR:`${ve}/clear`,NAVIGATION:`${ve}/navigation`,STORY_LOADED:`${ve}/story-loaded`,ROUTE_MATCHES:`${ve}/route-matches`,ACTION_INVOKED:`${ve}/action_invoked`,ACTION_SETTLED:`${ve}/action_settled`,LOADER_INVOKED:`${ve}/loader_invoked`,LOADER_SETTLED:`${ve}/loader_settled`},xr=q.createContext([]),Pr=q.createContext(void 0);function ba(){let[e,t]=g.useState([]),r=be;return r.Provider._context=new Proxy(r.Provider._context??{},{set(n,a,l){return a==="_currentValue"&&l!==void 0&&t(o=>l.matches.length>o.length?l.matches:o),Reflect.set(n,a,l)}}),e}function wa(e){let t={};return e.forEach((r,n)=>{if(r instanceof File){t[n]={filename:r.name,filesize:r.size,filetype:r.type};return}t[n]=r}),t}async function tr(e){let t=e.clone(),r=t.headers.get("content-type")||"",n;switch(!0){case r.startsWith("text"):n=await t.text();break;case r.startsWith("application/json"):n=await t.json();break;case r.startsWith("multipart/form-data"):case r.startsWith("application/x-www-form-urlencoded"):{n=wa(await t.formData());break}}return n}var Dr=()=>{let e=g.useRef(0);return g.useCallback(async(t,r)=>{e.current++;let n=`${t}_${e.current}`;switch(t){case z.ACTION_INVOKED:{let{request:a,params:l,context:o}=r,s={url:a.url,method:a.method,body:await tr(a)};return{key:n,type:t,data:{params:l,request:s,context:o}}}case z.ACTION_SETTLED:return{key:n,type:t,data:r};case z.LOADER_INVOKED:{let{request:a,params:l,context:o}=r,s={url:a.url,method:a.method,body:await tr(a)};return{key:n,type:t,data:{params:l,request:s,context:o}}}case z.LOADER_SETTLED:return{key:n,type:t,data:r}}},[])};function Ra(){let e=Pt.getChannel(),t=Dr();return g.useCallback(r=>async function(n){if(r===void 0)return;e.emit(z.ACTION_INVOKED,await t(z.ACTION_INVOKED,n));let a=await r(n);return e.emit(z.ACTION_SETTLED,await t(z.ACTION_SETTLED,a)),a},[e,t])}function Sa(){let e=Pt.getChannel(),t=Dr();return g.useCallback(r=>async function(n){if(r===void 0)return;e.emit(z.LOADER_INVOKED,await t(z.LOADER_INVOKED,n));let a=await r(n);return e.emit(z.LOADER_SETTLED,await t(z.LOADER_SETTLED,a)),a},[e,t])}function xa(){let e=Ra(),t=Sa(),r=g.useCallback(n=>n.map(a=>{let{action:l,loader:o,children:s,lazy:c}=a,p={...a};return c&&(p.lazy=async function(){let d=await c(),h={...d};return d.action&&(h.action=e(d.action)),d.loader&&(h.loader=t(d.loader)),h}),l&&(p.action=e(l)),o&&(p.loader=t(o)),s&&(p.children=r(s)),p}),[e,t]);return r}var Lr=()=>{let e=q.useContext(Pr);if(e===void 0)throw new Error("useStory should be used inside <StoryContext>");return e};function Cr(e,t,r=0){return e.length===1&&(e[0].children===void 0||e[0].children.length===0)?[{...e[0],element:t}]:e.findIndex(n=>n.useStoryElement)!==-1?e.map(n=>n.useStoryElement?{...n,element:t}:n):e.map(n=>n.children?{...n,children:Cr(n.children,t)}:n)}var rr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rr||(rr={}));function nr(e,t){throw new Error(t)}var ar;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ar||(ar={}));function or(e,t){t===void 0&&(t={});let r=e;return r.endsWith("*")&&r!=="*"&&!r.endsWith("/*")&&(Pa(!1,'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".')),r=r.replace(/\*$/,"/*")),r.replace(/^:(\w+)(\??)/g,(n,a,l)=>{let o=t[a];return l==="?"?o??"":(o==null&&nr(!1,'Missing ":'+a+'" param'),o)}).replace(/\/:(\w+)(\??)/g,(n,a,l)=>{let o=t[a];return l==="?"?o==null?"":"/"+o:(o==null&&nr(!1,'Missing ":'+a+'" param'),"/"+o)}).replace(/\?/g,"").replace(/(\/?)\*/,(n,a,l,o)=>{let s="*";return t[s]==null?o==="/*"?"/":"":""+a+t[s]})}function Pa(e,t){{typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}var Tr=["post","put","patch","delete"];new Set(Tr);var Da=["get",...Tr];new Set(Da);function La({navigationHistory:e,location:t,routes:r}){if(e!==void 0){let d=[],h,v=Object.values(e);for(let E=0;E<v.length;E++){let{path:b,pathParams:w,searchParams:O,hash:U,state:H,isInitialLocation:B}=v[E];B&&(h=E);let le=wt(r),re=(typeof b=="function"?b(le,w??{}):b)??le;d.push({pathname:or(re??"/",w),search:new URLSearchParams(O).toString(),hash:U,state:H})}return h??(h=d.length-1),{initialEntries:d,initialIndex:h}}let{path:n,pathParams:a,searchParams:l,hash:o,state:s}=t??{},c=wt(r),p=(typeof n=="function"?n(c,a??{}):n)??c;return{initialEntries:[{pathname:or(p,a),search:new URLSearchParams(l).toString(),hash:o,state:s}],initialIndex:0}}function wt(e=[],t="/"){if(e.length!==1)return t;let r=e[0],n=Ca(t,r.path);return r.children===void 0||r.children.length===0?n:wt(r.children,n)}function Ca(e,t=""){let r=["","/"],n=e.split("/").filter(l=>!r.includes(l)),a=t.split("/").filter(l=>!r.includes(l));return"/"+[...n,...a].join("/")}function ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ta(e){return arguments.length===0?[]:Array.isArray(e)?e:[e]}function Ma(e){var t;return e===void 0?[{path:"/"}]:typeof e=="string"?[{path:e}]:(e=Ta(e),e.length===1&&((t=e[0]).path??(t.path="/")),e)}var Mr=()=>q.useContext(xr);function _a(e){let t={};return e.forEach((r,n)=>{let a=t[n];if(typeof a=="string"){t[n]=[a,r];return}if(Array.isArray(a)){t[n]=[...a,r];return}t[n]=r}),t}var Oa=()=>{let e=Le(),t=e.pathname;return e.search.length>0&&(t+=`?${e.search}`),e.hash.length>0&&(t+=`#${e.hash}`),t},Ia=()=>{let e=g.useRef(0),t=Le(),r=Wn(),[n]=va(),a=Vn(),l=Mr(),o=_a(n),s=Oa(),c=l.map(d=>{let h={path:d.route.path};return Object.keys(d.params).length>0&&(h.params=d.params),h}),p={url:s,path:t.pathname,routeParams:r,searchParams:o,hash:t.hash,routeState:t.state,routeMatches:c};return d=>{e.current++;let h=`${d}_${e.current}`;switch(d){case z.STORY_LOADED:return{key:h,type:d,data:p};case z.NAVIGATION:return{key:h,type:d,data:{...p,navigationType:a}};case z.ROUTE_MATCHES:return{key:h,type:d,data:{matches:c}}}}};function _r(){let{renderStory:e,storyContext:t}=Lr(),r=Pt.getChannel(),n=Le(),a=Mr(),l=Ia(),o=g.useRef(),s=g.useRef(),c=g.useRef(),p=o.current!==void 0,d=p&&n.key!==o.current;return d&&s.current!==n.key&&(r.emit(z.NAVIGATION,l(z.NAVIGATION)),s.current=n.key),d&&a.length>0&&a!==c.current&&r.emit(z.ROUTE_MATCHES,l(z.ROUTE_MATCHES)),!p&&a.length>0&&(r.emit(z.STORY_LOADED,l(z.STORY_LOADED)),o.current=n.key,c.current=a),c.current=a,q.createElement(q.Fragment,null,e(t))}_r.displayName="RouterLogger";function Aa(){let{addonParameters:e={}}=Lr(),{hydrationData:t,routing:r,navigationHistory:n,location:a}=e,l=xa(),o=g.useMemo(()=>{let s=Ma(r),c=l(s),p=Cr(c,q.createElement(_r,null)),{initialEntries:d,initialIndex:h}=La({navigationHistory:n,location:a,routes:p});return ia(p,{initialEntries:d,initialIndex:h,hydrationData:t})},[l,t,a,n,r]);return q.createElement(pa,{router:o,fallbackElement:q.createElement(Fa,null)})}function Fa(){return q.createElement("p",null,"Performing initial data load")}var Ua=({renderStory:e,storyContext:t,addonParameters:r})=>{let n=ba();return q.createElement(Pr.Provider,{value:{renderStory:e,storyContext:t,addonParameters:r}},q.createElement(xr.Provider,{value:n},q.createElement(Aa,null)))};function Na(e){if(q.isValidElement(e))return!0;switch(!0){case q.isValidElement(e):case typeof e=="string":case typeof e=="number":case typeof e=="boolean":case e===null:case e===void 0:case(e instanceof Object&&ee(e,Symbol.iterator)):return!0}return!1}function ja(e){return Na(e)?{element:e}:e}function ka(e={}){let t=["location","navigationHistory","routing"];if(Object.keys(e??{}).some(n=>t.includes(n)))return e;let r={routing:{},location:{},hydrationData:void 0};if(ee(e,"routePath")&&(r.location.path=e.routePath,r.routing.path=e.routePath),ee(e,"routeParams")&&(r.location.pathParams=e.routeParams),ee(e,"routeState")&&(r.location.state=e.routeState),ee(e,"routeHandle")&&(r.routing.handle=e.routeHandle),ee(e,"searchParams")&&(r.location.searchParams=e.searchParams),ee(e,"browserPath")&&(r.location.path=e.browserPath),ee(e,"loader")&&(r.routing.loader=e.loader),ee(e,"action")&&(r.routing.action=e.action),ee(e,"errorElement")&&(r.routing.errorElement=e.errorElement),ee(e,"hydrationData")&&(r.hydrationData=e.hydrationData),ee(e,"shouldRevalidate")&&(r.routing.shouldRevalidate=e.shouldRevalidate),ee(e,"routeId")&&(r.routing.id=e.routeId),ee(e,"outlet")){let n=ja(e.outlet);n.path??(n.path=""),r.routing.children=[n]}return r.routing.useStoryElement=!0,r}var Va=ya({name:"withRouter",parameterName:Ea,wrapper:(e,t,{parameters:r})=>{let n=ka(r);return q.createElement(Ua,{renderStory:e,storyContext:t,addonParameters:n})}});function Ha(e){return e}export{Ha as $,Va as K,Le as a,$a as b,Hn as u};
